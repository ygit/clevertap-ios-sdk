<html>
    <title>
        my title
    </title>

    <head>
        <script>
        function customMessageCreator(name) {
            return 'Hi ' + name + ' It\'s nice to meet you. I hope ' + name + ' has a nice day!'
        }

        function customMessageWithDictionary(nameDetails) {
            var oData = JSON.parse(nameDetails);

            var firstName = oData['firstName'];
            var lastName = oData['lastName'];

            document.getElementById('firstName').value = firstName;
            document.getElementById('lastName').value = lastName;

            return firstName + " " + lastName;
        }

        function triggerWithCustomMessage(firstName, lastName) {
            var value = {firstName: firstName, lastName: lastName};
            var jsonString = (JSON.stringify(value));
            var escapedJsonParameters = escape(jsonString);
            var appName = 'SampleSwiftCode';
            var actionType = 'PrintData';

            var url = appName + '://' + actionType + "#" + escapedJsonParameters;
            document.location.href = url;
        }

        function invokeMessage() {
            var firstName = document.getElementById('firstName').value
            var lastName = document.getElementById('lastName').value
            triggerWithCustomMessage(firstName, lastName)
            
            if (window.AnalyticsWebInterface) {
                // Call Android interface
            } else if (window.webkit
                       && window.webkit.messageHandlers
                       && window.webkit.messageHandlers.clevertap) {
                // Call iOS interface
                var message = {
                    command: 'logEvent',
                    name: name,
                    parameters: params
                };
             window.webkit.messageHandlers.test1.postMessage(`Hello, world!`);

            } else {
                // No Android or iOS interface found
                console.log("No native APIs found.");
            }
        }

            </script>
    </head>
    <body bgcolor="#9A9A9A">
        <button onclick='invokeMessage()'>Send to iOS</button><br/><br/>
        First Name: <input type='text' name='firstname' id='firstName' value='Jamie'/><br>
        Last Name: <input type='text' name='lastname' id='lastName' value='Lannister'/><br>
        
        <script>
        var props = {
             foo:  'xyz',
             lang: 'French'
        };
        var message1 = {
            action: 'recordEventWithProps',
            event: 'From Application WebView',
            properties: props
        };
        var message2 = {
            action: 'recordEventWithProps',
            event: 'From WebView no props'
        };
        var message3 = {
            action: 'profilePush',
            properties: props
        };
        var message4 = {
            action: 'profileSetMultiValues',
            values: ['bag', 'kitkat'],
            key: 'myStuff'
        };
        var message5 = {
            action: 'profileAddMultiValue',
            value: 'Mobile',
            key: 'myStuff'
        };
        var message6 = {
            action: 'profileAddMultiValues',
            values: ['socks', 'scarf'],
            key: 'myStuff'
        };
        var message7 = {
            action: 'profileRemoveValueForKey',
            key: 'myStuff'
        };
        var message8 = {
            action: 'profileRemoveMultiValues',
            values: ['scarf', 'knife'],
            key: 'myStuff'
        };
        var message9 = {
            action: 'profileRemoveMultiValue',
            value: 'socks',
            key: 'myStuff'
        };
       
<!--        window.webkit.messageHandlers.clevertap.postMessage(message1);-->
<!--        window.webkit.messageHandlers.clevertap.postMessage(message2);-->
<!--        window.webkit.messageHandlers.clevertap.postMessage(message3);-->
<!--        window.webkit.messageHandlers.clevertap.postMessage(message4);-->
<!--        window.webkit.messageHandlers.clevertap.postMessage(message5);-->
<!--        window.webkit.messageHandlers.clevertap.postMessage(message6);-->
<!--        window.webkit.messageHandlers.clevertap.postMessage(message7);-->
<!--        window.webkit.messageHandlers.clevertap.postMessage(message8);-->
        window.webkit.messageHandlers.clevertap1.postMessage(message1);
        window.webkit.messageHandlers.appDefault.postMessage(message8);

        </script>
        </body>
</html>

<!--<!DOCTYPE html>-->
<!--<html>-->
<!--    <body>-->
<!--        -->
<!--        <h1>My First JavaScript</h1>-->
<!--        -->
<!--        <button type="button"-->
<!--            onclick="document.getElementById('demo').innerHTML = Date()">-->
<!--            Click me to display Date and Time.</button>-->
<!--        -->
<!--        <p id="demo"></p>-->
<!--        -->
<!--    </body>-->
<!--</html>-->
